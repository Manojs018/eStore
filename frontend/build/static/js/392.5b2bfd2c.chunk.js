"use strict";(self.webpackChunkestore_frontend=self.webpackChunkestore_frontend||[]).push([[392],{392(e,t,s){s.r(t),s.d(t,{default:()=>m});var a=s(5043),r=s(12),i=s(9364),o=s(951),l=s(579);const n=e=>{let{categories:t,selectedCategory:s,onSelectCategory:r,products:i=[]}=e;const o=(0,a.useMemo)(()=>{const e=i.reduce((e,t)=>{const s=t.category;return e[s]=(e[s]||0)+1,e},{});return e.All=i.length,e},[i]);return(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h3",{className:"font-semibold mb-3 text-gray-700",children:"Categories"}),(0,l.jsx)("div",{className:"md:hidden",children:(0,l.jsx)("select",{value:s,onChange:e=>r(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary bg-white text-gray-700",children:t.map(e=>(0,l.jsxs)("option",{value:e,children:[e," (",o[e]||0,")"]},e))})}),(0,l.jsx)("div",{className:"hidden md:flex flex-col space-y-2",children:t.map(e=>(0,l.jsxs)("button",{onClick:()=>r(e),className:"flex items-center justify-between w-full px-3 py-2 text-sm rounded-md transition-all duration-200 ".concat(s===e?"bg-primary text-white shadow-sm font-medium":"text-gray-600 hover:bg-gray-100"),children:[(0,l.jsx)("span",{children:e}),(0,l.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full ".concat(s===e?"bg-white text-primary":"bg-gray-200 text-gray-500"),children:o[e]||0})]},e))})]})};var c=s(4505),d=s(6543);const h=[{label:"Newest",value:"newest"},{label:"Price: Low to High",value:"price-asc"},{label:"Price: High to Low",value:"price-desc"},{label:"Name: A-Z",value:"name-asc"}],m=()=>{const[e,t]=(0,a.useState)([]),[s,m]=(0,a.useState)([]),[g,u]=(0,a.useState)(!0),[p,x]=(0,a.useState)("All"),[b]=(0,a.useState)([0,2e3]),[y,f]=(0,a.useState)("newest"),[w,j]=(0,a.useState)(""),[v,N]=(0,a.useState)(1),[k,C]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{u(!0);const{data:e}=await c.A.get("/products");e.data&&Array.isArray(e.data)?t(e.data):Array.isArray(e)?t(e):t([]),C(null)}catch(e){console.error("Failed to fetch products",e),C("Failed to load products. Please try again later.")}finally{u(!1)}})()},[]),(0,a.useEffect)(()=>{let t=[...e];if("All"!==p&&(t=t.filter(e=>e.category===p)),w){const e=w.toLowerCase();t=t.filter(t=>t.name.toLowerCase().includes(e)||t.description.toLowerCase().includes(e))}switch(y){case"price-asc":t.sort((e,t)=>e.price-t.price);break;case"price-desc":t.sort((e,t)=>t.price-e.price);break;case"name-asc":t.sort((e,t)=>e.name.localeCompare(t.name))}m(t),N(1)},[e,p,w,y,b]);const A=12*v,S=A-12,P=s.slice(S,A),R=Math.ceil(s.length/12),_=e=>{N(e),window.scrollTo({top:0,behavior:"smooth"})};return(0,l.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,l.jsxs)("div",{className:"flex flex-col md:flex-row gap-8",children:[(0,l.jsxs)("aside",{className:"w-full md:w-64 bg-white p-6 rounded-lg shadow-sm h-fit",children:[(0,l.jsx)("h2",{className:"text-xl font-bold mb-6 text-gray-800",children:"Filters"}),(0,l.jsx)(n,{categories:d.R,selectedCategory:p,onSelectCategory:x,products:e}),(0,l.jsx)("button",{onClick:()=>{x("All"),j(""),f("newest")},className:"w-full py-2 px-4 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md text-sm font-medium transition-colors",children:"Reset Filters"})]}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4 bg-white p-4 rounded-lg shadow-sm",children:[(0,l.jsxs)("p",{className:"text-gray-600",children:["Showing ",(0,l.jsxs)("span",{className:"font-bold text-gray-900",children:[S+1,"-",Math.min(A,s.length)]})," of ",(0,l.jsx)("span",{className:"font-bold text-gray-900",children:s.length})," results"]}),(0,l.jsxs)("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[(0,l.jsx)("input",{type:"text",placeholder:"Search products...",value:w,onChange:e=>j(e.target.value),className:"w-full sm:w-64 px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary text-sm"}),(0,l.jsx)("select",{value:y,onChange:e=>f(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary text-sm bg-white cursor-pointer",children:h.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),k&&(0,l.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:(0,l.jsx)("span",{className:"block sm:inline",children:k})}),g?(0,l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-6",children:[...Array(6)].map((e,t)=>(0,l.jsx)(o.Dj,{},t))}):0===P.length?(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 bg-white rounded-lg shadow-sm",children:[(0,l.jsx)("svg",{className:"w-16 h-16 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No products found"}),(0,l.jsx)("p",{className:"text-gray-500 text-sm",children:"Try adjusting your search or filters"})]}):(0,l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-6",children:P.map((e,t)=>(0,l.jsx)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},children:(0,l.jsx)(i.A,{product:e})},e._id))}),R>1&&(0,l.jsxs)("div",{className:"flex justify-center mt-12 space-x-2",children:[(0,l.jsx)("button",{onClick:()=>_(v-1),disabled:1===v,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed bg-white",children:"Previous"}),[...Array(R)].map((e,t)=>(0,l.jsx)("button",{onClick:()=>_(t+1),className:"px-4 py-2 border rounded-md text-sm font-medium ".concat(v===t+1?"bg-primary text-white border-primary":"border-gray-300 hover:bg-gray-50 bg-white text-gray-700"),children:t+1},t+1)),(0,l.jsx)("button",{onClick:()=>_(v+1),disabled:v===R,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed bg-white",children:"Next"})]})]})]})})}},951(e,t,s){s.d(t,{LK:()=>g,Dj:()=>h,uL:()=>m,mj:()=>u});var a=s(5043),r=s(9379),i=s(3986);const o=["count","wrapper","className","containerClassName","containerTestId","circle","style"],l=a.createContext({}),n=!0;function c(e){let{count:t=1,wrapper:s,className:c,containerClassName:d,containerTestId:h,circle:m=!1,style:g}=e,u=(0,i.A)(e,o);var p,x,b;const y=a.useContext(l),f=(0,r.A)({},u);for(const[a,r]of Object.entries(u))"undefined"===typeof r&&delete f[a];const w=(0,r.A)((0,r.A)((0,r.A)({},y),f),{},{circle:m}),j=(0,r.A)((0,r.A)({},g),function(e){let{baseColor:t,highlightColor:s,width:a,height:r,borderRadius:i,circle:o,direction:l,duration:c,enableAnimation:d=n,customHighlightBackground:h}=e;const m={};return"rtl"===l&&(m["--animation-direction"]="reverse"),"number"===typeof c&&(m["--animation-duration"]="".concat(c,"s")),d||(m["--pseudo-element-display"]="none"),"string"!==typeof a&&"number"!==typeof a||(m.width=a),"string"!==typeof r&&"number"!==typeof r||(m.height=r),"string"!==typeof i&&"number"!==typeof i||(m.borderRadius=i),o&&(m.borderRadius="50%"),"undefined"!==typeof t&&(m["--base-color"]=t),"undefined"!==typeof s&&(m["--highlight-color"]=s),"string"===typeof h&&(m["--custom-highlight-background"]=h),m}(w));let v="react-loading-skeleton";c&&(v+=" ".concat(c));const N=null!==(p=w.inline)&&void 0!==p&&p,k=[],C=Math.ceil(t);for(let i=0;i<C;i++){let e=j;if(C>t&&i===C-1){const s=null!==(x=e.width)&&void 0!==x?x:"100%",a=t%1,i="number"===typeof s?s*a:"calc(".concat(s," * ").concat(a,")");e=(0,r.A)((0,r.A)({},e),{},{width:i})}const s=a.createElement("span",{className:v,style:e,key:i},"\u200c");N?k.push(s):k.push(a.createElement(a.Fragment,{key:i},s,a.createElement("br",null)))}return a.createElement("span",{className:d,"data-testid":h,"aria-live":"polite","aria-busy":null!==(b=w.enableAnimation)&&void 0!==b?b:n},s?k.map((e,t)=>a.createElement(s,{key:t},e)):k)}s(2420);var d=s(579);const h=()=>(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,d.jsx)("div",{className:"h-48",children:(0,d.jsx)(c,{height:"100%"})}),(0,d.jsxs)("div",{className:"p-4",children:[(0,d.jsx)("div",{className:"mb-2",children:(0,d.jsx)(c,{height:24,width:"80%"})}),(0,d.jsx)("div",{className:"mb-3",children:(0,d.jsx)(c,{count:3})}),(0,d.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,d.jsx)(c,{width:80,height:28}),(0,d.jsx)(c,{width:60})]}),(0,d.jsx)(c,{height:40,className:"w-full",borderRadius:6})]})]}),m=()=>(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 lg:gap-12",children:[(0,d.jsx)("div",{className:"rounded-lg overflow-hidden h-[400px]",children:(0,d.jsx)(c,{height:"100%"})}),(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)(c,{height:48,width:"90%"}),(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,d.jsx)(c,{width:100,height:36}),(0,d.jsx)(c,{width:80})]}),(0,d.jsx)(c,{count:4}),(0,d.jsxs)("div",{className:"rounded-lg p-4 space-y-2",children:[(0,d.jsx)(c,{height:24,width:"40%"}),(0,d.jsx)(c,{width:"60%"}),(0,d.jsx)(c,{width:"50%"})]}),(0,d.jsxs)("div",{className:"space-y-4 pt-4",children:[(0,d.jsx)(c,{height:48,width:"100%",borderRadius:8}),(0,d.jsx)(c,{height:48,width:"100%",borderRadius:8})]})]})]}),g=()=>(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center border-b border-gray-100 pb-4 gap-2",children:[(0,d.jsx)(c,{width:200,height:24}),(0,d.jsx)(c,{width:80,height:28})]}),u=()=>(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-4",children:[(0,d.jsx)(c,{width:"30%",height:24,className:"mb-2"}),(0,d.jsx)(c,{width:"20%"})]})},6543(e,t,s){s.d(t,{R:()=>r,S:()=>a});const a=[{_id:"1",name:"Wireless Bluetooth Headphones",description:"High-quality wireless headphones with noise cancellation and premium sound quality.",price:199.99,image:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400",category:"Electronics",inStock:!0,rating:4.5,reviews:128},{_id:"2",name:"Smart Fitness Watch",description:"Track your fitness goals with this advanced smartwatch featuring heart rate monitoring.",price:299.99,image:"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400",category:"Wearables",inStock:!0,rating:4.2,reviews:89},{_id:"3",name:"Ergonomic Office Chair",description:"Comfortable and stylish office chair designed for long working hours.",price:349.99,image:"https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=400",category:"Furniture",inStock:!0,rating:4.7,reviews:203},{_id:"4",name:"Professional Camera Lens",description:"85mm f/1.4 portrait lens for professional photography.",price:899.99,image:"https://images.unsplash.com/photo-1606983340126-99ab4feaa64a?w=400",category:"Photography",inStock:!1,rating:4.8,reviews:67},{_id:"5",name:"Gaming Mechanical Keyboard",description:"RGB backlit mechanical keyboard with customizable keys.",price:149.99,image:"https://images.unsplash.com/photo-1541140532154-b024d705b90a?w=400",category:"Gaming",inStock:!0,rating:4.3,reviews:156},{_id:"6",name:"Portable Power Bank",description:"20000mAh power bank with fast charging and multiple USB ports.",price:49.99,image:"https://images.unsplash.com/photo-1609592806580-0e5b8c6e0db0?w=400",category:"Accessories",inStock:!0,rating:4.1,reviews:92}],r=["All","Electronics","Wearables","Furniture","Photography","Gaming","Accessories"]},9364(e,t,s){s.d(t,{A:()=>c});s(5043);var a=s(5475),r=s(12),i=s(2224),o=s(1819),l=s(4918),n=s(579);const c=e=>{let{product:t}=e;const{addToCart:s}=(0,i._$)(),{addToWishlist:c,isInWishlist:d}=(0,o.nU)(),h=d(t._id);return(0,n.jsxs)(r.P.div,{whileHover:{y:-5},transition:{duration:.2},className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow group relative",children:[(0,n.jsxs)(a.N_,{to:"/product/".concat(t._id),children:[(0,n.jsxs)("div",{className:"relative overflow-hidden bg-gray-100",children:[(0,n.jsx)("img",{src:t.imageUrl||t.image||"https://via.placeholder.com/400x300?text=No+Image",alt:t.name,loading:"lazy",className:"w-full h-48 object-cover transition-transform duration-300 hover:scale-105",onError:e=>{e.target.onerror=null,e.target.src="https://via.placeholder.com/400x300?text=No+Image"}}),!t.inStock&&(0,n.jsx)("div",{className:"absolute top-2 left-2 bg-red-500 text-white px-2 py-1 rounded text-sm z-10",children:"Out of Stock"}),(0,n.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),c(t)},className:"absolute top-2 right-2 p-2 bg-white/80 backdrop-blur-sm rounded-full shadow-sm hover:bg-white transition-all z-20","aria-label":h?"Remove from wishlist":"Add to wishlist",children:(0,n.jsx)(l.A,{size:20,className:"transition-colors ".concat(h?"fill-red-500 text-red-500":"text-gray-500 hover:text-red-500")})})]}),(0,n.jsxs)("div",{className:"p-4",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2 line-clamp-2",children:t.name}),(0,n.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-3",children:t.description}),(0,n.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,n.jsxs)("span",{className:"text-xl md:text-2xl font-bold text-primary",children:["$",t.price.toFixed(2)]}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("span",{className:"text-yellow-400 mr-1",children:"\u2605"}),(0,n.jsxs)("span",{className:"text-sm text-gray-600",children:[t.averageRating||t.rating||0," (",t.numOfReviews||t.reviews||0,")"]})]})]})]})]}),(0,n.jsx)("div",{className:"px-4 pb-4",children:(0,n.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),s(t)},disabled:!t.inStock,className:"w-full py-2 px-4 rounded-md font-medium transition-colors min-h-[44px] ".concat(t.inStock?"bg-primary text-white hover:bg-opacity-90":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:t.inStock?"Add to Cart":"Out of Stock"})})]})}}}]);
//# sourceMappingURL=392.5b2bfd2c.chunk.js.map