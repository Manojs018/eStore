/*! For license information please see 568.d800748c.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkestore_frontend=self.webpackChunkestore_frontend||[]).push([[568],{568(e,t,s){s.r(t),s.d(t,{default:()=>g});var a=s(5043),i=s(5475),l=s(12),n=s(5016),c=s(2224),r=s(1212);const d=(0,r.A)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),o=(0,r.A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var h=s(9855),m=s(775),x=s(579);const u=e=>{let{item:t}=e;const{updateQuantity:s,removeFromCart:i}=(0,c._$)(),[n,r]=a.useState(t.quantity);a.useEffect(()=>{r(t.quantity)},[t.quantity]);return(0,x.jsxs)(l.P.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"flex flex-col sm:flex-row items-center bg-white p-4 sm:p-6 rounded-lg shadow-sm border border-gray-100 gap-4 mb-4",children:[(0,x.jsxs)("div",{className:"flex items-center gap-4 w-full sm:w-2/5",children:[(0,x.jsx)("div",{className:"w-20 h-20 flex-shrink-0 bg-gray-100 rounded-md overflow-hidden",children:(0,x.jsx)(m.A,{src:t.imageUrl||t.image,alt:t.name,className:"w-full h-full",width:150,height:150})}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{className:"font-semibold text-gray-800 line-clamp-2",children:t.name}),(0,x.jsx)("p",{className:"text-sm text-gray-500",children:t.category})]})]}),(0,x.jsx)("div",{className:"flex items-center justify-center w-full sm:w-1/5",children:(0,x.jsxs)("div",{className:"flex items-center border border-gray-300 rounded-md",children:[(0,x.jsx)("button",{onClick:()=>{t.quantity>1&&s(t._id,t.quantity-1)},disabled:t.quantity<=1,className:"p-2 text-gray-600 hover:text-primary disabled:opacity-30 disabled:cursor-not-allowed","aria-label":"Decrease quantity",children:(0,x.jsx)(d,{size:16})}),(0,x.jsx)("input",{type:"number",min:"1",max:t.stock,value:n,onChange:e=>{const a=parseInt(e.target.value);if(r(e.target.value),!isNaN(a)&&a>=1){const e=t.stock||99;s(t._id,Math.min(a,e))}},onBlur:()=>{(!n||parseInt(n)<1)&&(r(1),s(t._id,1))},className:"w-12 text-center text-sm font-medium border-x border-gray-300 py-2 focus:outline-none"}),(0,x.jsx)("button",{onClick:()=>{const e=t.stock||99;t.quantity<e&&s(t._id,t.quantity+1)},disabled:t.quantity>=(t.stock||99),className:"p-2 text-gray-600 hover:text-primary disabled:opacity-30 disabled:cursor-not-allowed","aria-label":"Increase quantity",children:(0,x.jsx)(o,{size:16})})]})}),(0,x.jsxs)("div",{className:"w-full sm:w-1/5 text-center sm:text-right",children:[(0,x.jsxs)("span",{className:"font-bold text-gray-900 text-lg",children:["$",(t.price*t.quantity).toFixed(2)]}),(0,x.jsxs)("div",{className:"text-xs text-gray-500",children:["$",t.price," each"]})]}),(0,x.jsx)("div",{className:"w-full sm:w-auto text-center sm:text-right",children:(0,x.jsx)("button",{onClick:()=>i(t._id),className:"p-2 text-red-500 hover:bg-red-50 rounded-full transition-colors","aria-label":"Remove item",children:(0,x.jsx)(h.A,{size:20})})})]})};var p=s(951);const g=()=>{const{isAuthenticated:e}=(0,n.As)(),{cart:t,getCartTotal:s}=(0,c._$)(),[r,d]=a.useState(!0);return a.useEffect(()=>{const e=setTimeout(()=>{d(!1)},600);return()=>clearTimeout(e)},[]),e?(0,x.jsxs)(l.P.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-8 container mx-auto px-4 py-8",children:[(0,x.jsx)("h1",{className:"text-4xl font-bold text-gray-900",children:"Shopping Cart"}),r?(0,x.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-4 md:p-6 space-y-4",children:[...Array(3)].map((e,t)=>(0,x.jsx)(p.LK,{},t))}):0===t.length?(0,x.jsxs)("div",{className:"text-center py-12",children:[(0,x.jsx)("p",{className:"text-gray-500 text-lg mb-6",children:"Your cart is empty"}),(0,x.jsx)(i.N_,{to:"/",className:"text-primary hover:text-primary-dark font-semibold text-lg",children:"Continue Shopping"})]}):(0,x.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,x.jsx)("div",{className:"flex-1 bg-white rounded-lg shadow-lg p-4 md:p-6",children:(0,x.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,x.jsx)(u,{item:e},e._id))})}),(0,x.jsx)("div",{className:"lg:w-1/3",children:(0,x.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 sticky top-24",children:[(0,x.jsx)("h2",{className:"text-xl font-bold mb-4 border-b pb-4",children:"Order Summary"}),(0,x.jsxs)("div",{className:"flex justify-between mb-2 text-gray-600",children:[(0,x.jsx)("span",{children:"Subtotal"}),(0,x.jsxs)("span",{children:["$",s().toFixed(2)]})]}),(0,x.jsxs)("div",{className:"flex justify-between mb-4 text-gray-600",children:[(0,x.jsx)("span",{children:"Shipping"}),(0,x.jsx)("span",{children:"Free"})]}),(0,x.jsxs)("div",{className:"flex justify-between mb-6 text-xl font-bold text-gray-900 border-t pt-4",children:[(0,x.jsx)("span",{children:"Total"}),(0,x.jsxs)("span",{children:["$",s().toFixed(2)]})]}),(0,x.jsx)(i.N_,{to:"/checkout",className:"bg-primary text-white w-full py-4 rounded-lg hover:opacity-90 transition-opacity block text-center font-bold text-lg shadow-md",children:"Proceed to Checkout"})]})})]})]}):(0,x.jsxs)(l.P.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center min-h-screen",children:[(0,x.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Please Login"}),(0,x.jsx)("p",{className:"text-gray-600 mb-8",children:"You need to login to view your cart"}),(0,x.jsx)(i.N_,{to:"/login",className:"bg-primary text-white px-6 py-2 rounded-lg hover:bg-opacity-90",children:"Go to Login"})]})}},775(e,t,s){s.d(t,{A:()=>r});var a=s(9379),i=s(3986),l=s(5043),n=s(579);const c=["src","alt","className","width","height"],r=e=>{let{src:t,alt:s,className:r,width:d,height:o}=e,h=(0,i.A)(e,c);const[m,x]=(0,l.useState)(!1),[u,p]=(0,l.useState)(!1),g=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"webp";if(!e||!e.includes("images.unsplash.com"))return e;const a=e.includes("?")?"&":"?";return"".concat(e).concat(a,"w=").concat(t,"&q=80&fm=").concat(s,"&fit=crop")},y=t&&t.includes("images.unsplash.com"),j=y?"".concat(g(t,400)," 400w,\n           ").concat(g(t,800)," 800w,\n           ").concat(g(t,1200)," 1200w"):void 0,b=y?"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw":void 0,f=u?"https://via.placeholder.com/400x300?text=No+Image":y?g(t,800):t;return(0,n.jsxs)("div",{className:"relative overflow-hidden bg-gray-100 ".concat(r),style:{width:d,height:o},children:[(0,n.jsx)("img",(0,a.A)({src:f,alt:s,srcSet:j,sizes:b,loading:"lazy",decoding:"async",width:d,height:o,className:"transition-opacity duration-500 ease-in-out ".concat(m?"opacity-100":"opacity-0"," ").concat(r," w-full h-full object-cover"),onLoad:()=>x(!0),onError:()=>p(!0)},h)),!m&&!u&&(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200 animate-pulse",children:(0,n.jsx)("span",{className:"sr-only",children:"Loading image..."})})]})}},951(e,t,s){s.d(t,{LK:()=>x,Dj:()=>h,uL:()=>m,mj:()=>u});var a=s(5043),i=s(9379),l=s(3986);const n=["count","wrapper","className","containerClassName","containerTestId","circle","style"],c=a.createContext({}),r=!0;function d(e){let{count:t=1,wrapper:s,className:d,containerClassName:o,containerTestId:h,circle:m=!1,style:x}=e,u=(0,l.A)(e,n);var p,g,y;const j=a.useContext(c),b=(0,i.A)({},u);for(const[a,i]of Object.entries(u))"undefined"===typeof i&&delete b[a];const f=(0,i.A)((0,i.A)((0,i.A)({},j),b),{},{circle:m}),w=(0,i.A)((0,i.A)({},x),function(e){let{baseColor:t,highlightColor:s,width:a,height:i,borderRadius:l,circle:n,direction:c,duration:d,enableAnimation:o=r,customHighlightBackground:h}=e;const m={};return"rtl"===c&&(m["--animation-direction"]="reverse"),"number"===typeof d&&(m["--animation-duration"]="".concat(d,"s")),o||(m["--pseudo-element-display"]="none"),"string"!==typeof a&&"number"!==typeof a||(m.width=a),"string"!==typeof i&&"number"!==typeof i||(m.height=i),"string"!==typeof l&&"number"!==typeof l||(m.borderRadius=l),n&&(m.borderRadius="50%"),"undefined"!==typeof t&&(m["--base-color"]=t),"undefined"!==typeof s&&(m["--highlight-color"]=s),"string"===typeof h&&(m["--custom-highlight-background"]=h),m}(f));let v="react-loading-skeleton";d&&(v+=" ".concat(d));const N=null!==(p=f.inline)&&void 0!==p&&p,k=[],A=Math.ceil(t);for(let l=0;l<A;l++){let e=w;if(A>t&&l===A-1){const s=null!==(g=e.width)&&void 0!==g?g:"100%",a=t%1,l="number"===typeof s?s*a:"calc(".concat(s," * ").concat(a,")");e=(0,i.A)((0,i.A)({},e),{},{width:l})}const s=a.createElement("span",{className:v,style:e,key:l},"\u200c");N?k.push(s):k.push(a.createElement(a.Fragment,{key:l},s,a.createElement("br",null)))}return a.createElement("span",{className:o,"data-testid":h,"aria-live":"polite","aria-busy":null!==(y=f.enableAnimation)&&void 0!==y?y:r},s?k.map((e,t)=>a.createElement(s,{key:t},e)):k)}s(2420);var o=s(579);const h=()=>(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,o.jsx)("div",{className:"h-48",children:(0,o.jsx)(d,{height:"100%"})}),(0,o.jsxs)("div",{className:"p-4",children:[(0,o.jsx)("div",{className:"mb-2",children:(0,o.jsx)(d,{height:24,width:"80%"})}),(0,o.jsx)("div",{className:"mb-3",children:(0,o.jsx)(d,{count:3})}),(0,o.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,o.jsx)(d,{width:80,height:28}),(0,o.jsx)(d,{width:60})]}),(0,o.jsx)(d,{height:40,className:"w-full",borderRadius:6})]})]}),m=()=>(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 lg:gap-12",children:[(0,o.jsx)("div",{className:"rounded-lg overflow-hidden h-[400px]",children:(0,o.jsx)(d,{height:"100%"})}),(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsx)(d,{height:48,width:"90%"}),(0,o.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,o.jsx)(d,{width:100,height:36}),(0,o.jsx)(d,{width:80})]}),(0,o.jsx)(d,{count:4}),(0,o.jsxs)("div",{className:"rounded-lg p-4 space-y-2",children:[(0,o.jsx)(d,{height:24,width:"40%"}),(0,o.jsx)(d,{width:"60%"}),(0,o.jsx)(d,{width:"50%"})]}),(0,o.jsxs)("div",{className:"space-y-4 pt-4",children:[(0,o.jsx)(d,{height:48,width:"100%",borderRadius:8}),(0,o.jsx)(d,{height:48,width:"100%",borderRadius:8})]})]})]}),x=()=>(0,o.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center border-b border-gray-100 pb-4 gap-2",children:[(0,o.jsx)(d,{width:200,height:24}),(0,o.jsx)(d,{width:80,height:28})]}),u=()=>(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-4",children:[(0,o.jsx)(d,{width:"30%",height:24,className:"mb-2"}),(0,o.jsx)(d,{width:"20%"})]})},9855(e,t,s){s.d(t,{A:()=>a});const a=(0,s(1212).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])}}]);
//# sourceMappingURL=568.d800748c.chunk.js.map