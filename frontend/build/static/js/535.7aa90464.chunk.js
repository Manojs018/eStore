/*! For license information please see 535.7aa90464.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkestore_frontend=self.webpackChunkestore_frontend||[]).push([[535],{775(e,t,s){s.d(t,{A:()=>c});var a=s(9379),i=s(3986),r=s(5043),n=s(579);const l=["src","alt","className","width","height"],c=e=>{let{src:t,alt:s,className:c,width:o,height:d}=e,m=(0,i.A)(e,l);const[h,x]=(0,r.useState)(!1),[u,p]=(0,r.useState)(!1),g=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"webp";if(!e||!e.includes("images.unsplash.com"))return e;const a=e.includes("?")?"&":"?";return"".concat(e).concat(a,"w=").concat(t,"&q=80&fm=").concat(s,"&fit=crop")},y=t&&t.includes("images.unsplash.com"),j=y?"".concat(g(t,400)," 400w,\n           ").concat(g(t,800)," 800w,\n           ").concat(g(t,1200)," 1200w"):void 0,f=y?"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw":void 0,b=u?"https://via.placeholder.com/400x300?text=No+Image":y?g(t,800):t;return(0,n.jsxs)("div",{className:"relative overflow-hidden bg-gray-100 ".concat(c),style:{width:o,height:d},children:[(0,n.jsx)("img",(0,a.A)({src:b,alt:s,srcSet:j,sizes:f,loading:"lazy",decoding:"async",width:o,height:d,className:"transition-opacity duration-500 ease-in-out ".concat(h?"opacity-100":"opacity-0"," ").concat(c," w-full h-full object-cover"),onLoad:()=>x(!0),onError:()=>p(!0)},m)),!h&&!u&&(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200 animate-pulse",children:(0,n.jsx)("span",{className:"sr-only",children:"Loading image..."})})]})}},951(e,t,s){s.d(t,{LK:()=>x,Dj:()=>m,uL:()=>h,mj:()=>u});var a=s(5043),i=s(9379),r=s(3986);const n=["count","wrapper","className","containerClassName","containerTestId","circle","style"],l=a.createContext({}),c=!0;function o(e){let{count:t=1,wrapper:s,className:o,containerClassName:d,containerTestId:m,circle:h=!1,style:x}=e,u=(0,r.A)(e,n);var p,g,y;const j=a.useContext(l),f=(0,i.A)({},u);for(const[a,i]of Object.entries(u))"undefined"===typeof i&&delete f[a];const b=(0,i.A)((0,i.A)((0,i.A)({},j),f),{},{circle:h}),w=(0,i.A)((0,i.A)({},x),function(e){let{baseColor:t,highlightColor:s,width:a,height:i,borderRadius:r,circle:n,direction:l,duration:o,enableAnimation:d=c,customHighlightBackground:m}=e;const h={};return"rtl"===l&&(h["--animation-direction"]="reverse"),"number"===typeof o&&(h["--animation-duration"]="".concat(o,"s")),d||(h["--pseudo-element-display"]="none"),"string"!==typeof a&&"number"!==typeof a||(h.width=a),"string"!==typeof i&&"number"!==typeof i||(h.height=i),"string"!==typeof r&&"number"!==typeof r||(h.borderRadius=r),n&&(h.borderRadius="50%"),"undefined"!==typeof t&&(h["--base-color"]=t),"undefined"!==typeof s&&(h["--highlight-color"]=s),"string"===typeof m&&(h["--custom-highlight-background"]=m),h}(b));let v="react-loading-skeleton";o&&(v+=" ".concat(o));const N=null!==(p=b.inline)&&void 0!==p&&p,A=[],k=Math.ceil(t);for(let r=0;r<k;r++){let e=w;if(k>t&&r===k-1){const s=null!==(g=e.width)&&void 0!==g?g:"100%",a=t%1,r="number"===typeof s?s*a:"calc(".concat(s," * ").concat(a,")");e=(0,i.A)((0,i.A)({},e),{},{width:r})}const s=a.createElement("span",{className:v,style:e,key:r},"\u200c");N?A.push(s):A.push(a.createElement(a.Fragment,{key:r},s,a.createElement("br",null)))}return a.createElement("span",{className:d,"data-testid":m,"aria-live":"polite","aria-busy":null!==(y=b.enableAnimation)&&void 0!==y?y:c},s?A.map((e,t)=>a.createElement(s,{key:t},e)):A)}s(2420);var d=s(579);const m=()=>(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,d.jsx)("div",{className:"h-48",children:(0,d.jsx)(o,{height:"100%"})}),(0,d.jsxs)("div",{className:"p-4",children:[(0,d.jsx)("div",{className:"mb-2",children:(0,d.jsx)(o,{height:24,width:"80%"})}),(0,d.jsx)("div",{className:"mb-3",children:(0,d.jsx)(o,{count:3})}),(0,d.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,d.jsx)(o,{width:80,height:28}),(0,d.jsx)(o,{width:60})]}),(0,d.jsx)(o,{height:40,className:"w-full",borderRadius:6})]})]}),h=()=>(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 lg:gap-12",children:[(0,d.jsx)("div",{className:"rounded-lg overflow-hidden h-[400px]",children:(0,d.jsx)(o,{height:"100%"})}),(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)(o,{height:48,width:"90%"}),(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,d.jsx)(o,{width:100,height:36}),(0,d.jsx)(o,{width:80})]}),(0,d.jsx)(o,{count:4}),(0,d.jsxs)("div",{className:"rounded-lg p-4 space-y-2",children:[(0,d.jsx)(o,{height:24,width:"40%"}),(0,d.jsx)(o,{width:"60%"}),(0,d.jsx)(o,{width:"50%"})]}),(0,d.jsxs)("div",{className:"space-y-4 pt-4",children:[(0,d.jsx)(o,{height:48,width:"100%",borderRadius:8}),(0,d.jsx)(o,{height:48,width:"100%",borderRadius:8})]})]})]}),x=()=>(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center border-b border-gray-100 pb-4 gap-2",children:[(0,d.jsx)(o,{width:200,height:24}),(0,d.jsx)(o,{width:80,height:28})]}),u=()=>(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-4",children:[(0,d.jsx)(o,{width:"30%",height:24,className:"mb-2"}),(0,d.jsx)(o,{width:"20%"})]})},2208(e,t,s){s.d(t,{A:()=>r});s(5043);var a=s(9367),i=s(579);const r=e=>{let{title:t,description:s,image:r,url:n,type:l="website"}=e;const c="eStore",o=t?"".concat(t," | ").concat(c):c,d=s||"Your one-stop shop for premium electronics and accessories.",m=r||"https://via.placeholder.com/1200x630?text=eStore+Logo",h=n||"https://estore.example.com";return(0,i.jsxs)(a.mg,{children:[(0,i.jsx)("title",{children:o}),(0,i.jsx)("meta",{name:"description",content:d}),(0,i.jsx)("link",{rel:"canonical",href:h}),(0,i.jsx)("meta",{property:"og:title",content:o}),(0,i.jsx)("meta",{property:"og:description",content:d}),(0,i.jsx)("meta",{property:"og:image",content:m}),(0,i.jsx)("meta",{property:"og:url",content:h}),(0,i.jsx)("meta",{property:"og:type",content:l}),(0,i.jsx)("meta",{property:"og:site_name",content:c}),(0,i.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,i.jsx)("meta",{name:"twitter:title",content:o}),(0,i.jsx)("meta",{name:"twitter:description",content:d}),(0,i.jsx)("meta",{name:"twitter:image",content:m})]})}},7535(e,t,s){s.r(t),s.d(t,{default:()=>v});var a=s(9379),i=s(5043),r=s(3216),n=s(12),l=s(2224),c=s(951),o=s(4459),d=s(1212);const m=(0,d.A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),h=(0,d.A)("thumbs-up",[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]]);var x=s(5016),u=s(2339),p=s(579);const g=e=>{let{productId:t,onReviewAdded:s}=e;const[a,r]=(0,i.useState)(0),[n,l]=(0,i.useState)(0),[c,o]=(0,i.useState)(""),[d,h]=(0,i.useState)(!1),{user:g}=(0,x.As)();return(0,p.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),0!==a)if(c.trim())try{h(!0);localStorage.getItem("token");await new Promise(e=>setTimeout(e,800));const e={_id:Date.now().toString(),user:{name:g.name,_id:g._id},rating:a,comment:c,createdAt:(new Date).toISOString(),helpful:[]};s(e),r(0),o("")}catch(t){u.oR.error(t.message)}finally{h(!1)}else u.oR.error("Please write a comment");else u.oR.error("Please select a rating")},className:"bg-gray-50 p-6 rounded-xl border border-gray-100 mb-8",children:[(0,p.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Write a Review"}),(0,p.jsxs)("div",{className:"mb-4",children:[(0,p.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),(0,p.jsx)("div",{className:"flex space-x-1",children:[...Array(5)].map((e,t)=>{const s=t+1;return(0,p.jsx)("button",{type:"button",className:"focus:outline-none transition-transform hover:scale-110",onClick:()=>r(s),onMouseEnter:()=>l(s),onMouseLeave:()=>l(0),children:(0,p.jsx)(m,{size:24,fill:s<=(n||a)?"#fbbf24":"none",className:s<=(n||a)?"text-yellow-400":"text-gray-300"})},t)})})]}),(0,p.jsxs)("div",{className:"mb-4",children:[(0,p.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Review"}),(0,p.jsx)("textarea",{rows:"4",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all text-sm",placeholder:"What did you like or dislike about this product?",value:c,onChange:e=>o(e.target.value)})]}),(0,p.jsx)("button",{type:"submit",disabled:d,className:"bg-primary text-white px-6 py-2.5 rounded-lg font-medium hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:d?"Submitting...":"Submit Review"})]})},y=e=>{let{productId:t}=e;const[s,r]=(0,i.useState)([]),[n,l]=(0,i.useState)(!0),[c,d]=(0,i.useState)(1),[y,j]=(0,i.useState)(1),{user:f}=(0,x.As)(),b=[{_id:"1",user:{name:"Alice"},rating:5,comment:"Great product! Highly recommended.",createdAt:(new Date).toISOString(),helpful:[]},{_id:"2",user:{name:"Bob"},rating:4,comment:"Good quality but shipping was slow.",createdAt:new Date(Date.now()-864e5).toISOString(),helpful:["123"]}];(0,i.useEffect)(()=>{(async()=>{try{l(!0);const e=await fetch("/api/reviews/".concat(t,"?page=").concat(c,"&limit=5"));if(!e.ok)throw new Error("Failed to fetch");const s=await e.json();r(s.reviews),j(s.totalPages)}catch(e){console.log("Using mock reviews due to:",e),r(b)}finally{l(!1)}})()},[t,c]);return(0,p.jsxs)("div",{className:"mt-12",children:[(0,p.jsx)("h3",{className:"text-2xl font-bold mb-6",children:"Customer Reviews"}),f&&(0,p.jsx)(g,{productId:t,onReviewAdded:e=>{r([e,...s]),u.oR.success("Review added successfully!")}}),(0,p.jsxs)("div",{className:"space-y-6 mt-8",children:[s.map(e=>{var t,i,n;return(0,p.jsxs)("div",{className:"border-b border-gray-100 pb-6 last:border-0",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)("div",{className:"bg-gray-200 p-2 rounded-full",children:(0,p.jsx)(o.A,{size:20,className:"text-gray-500"})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"font-semibold text-sm",children:(null===(t=e.user)||void 0===t?void 0:t.name)||"Anonymous"}),(0,p.jsx)("p",{className:"text-xs text-gray-400",children:new Date(e.createdAt).toLocaleDateString()})]})]}),(0,p.jsx)("div",{className:"flex text-yellow-500",children:[...Array(5)].map((t,s)=>(0,p.jsx)(m,{size:16,fill:s<e.rating?"currentColor":"none",className:s<e.rating?"text-yellow-500":"text-gray-300"},s))})]}),(0,p.jsx)("p",{className:"text-gray-600 mb-4 text-sm leading-relaxed",children:e.comment}),(0,p.jsxs)("button",{onClick:()=>(async e=>{if(f){r(s.map(t=>{if(t._id===e){const e=t.helpful.includes(f._id);return(0,a.A)((0,a.A)({},t),{},{helpful:e?t.helpful.filter(e=>e!==f._id):[...t.helpful,f._id]})}return t}));try{const t=localStorage.getItem("token");await fetch("/api/reviews/".concat(e,"/vote"),{method:"PUT",headers:{Authorization:"Bearer ".concat(t)}})}catch(t){u.oR.error("Failed to vote")}}else u.oR.error("Please login to vote")})(e._id),className:"flex items-center space-x-1 text-xs font-medium transition-colors ".concat(f&&null!==(i=e.helpful)&&void 0!==i&&i.includes(f._id)?"text-primary":"text-gray-400 hover:text-gray-600"),children:[(0,p.jsx)(h,{size:14}),(0,p.jsxs)("span",{children:["Helpful (",(null===(n=e.helpful)||void 0===n?void 0:n.length)||0,")"]})]})]},e._id)}),n&&(0,p.jsx)("p",{className:"text-center text-gray-500",children:"Loading reviews..."}),!n&&0===s.length&&(0,p.jsx)("p",{className:"text-center text-gray-500 py-8 italic",children:"No reviews yet. Be the first to write one!"}),y>1&&(0,p.jsx)("div",{className:"flex justify-center space-x-2 mt-6",children:[...Array(y)].map((e,t)=>(0,p.jsx)("button",{onClick:()=>d(t+1),className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat(c===t+1?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:t+1},t))})]})]})};var j=s(4505),f=s(775),b=s(2208),w=s(4662);const v=()=>{const{id:e}=(0,r.g)(),t=(0,r.Zp)(),{addToCart:s}=(0,l._$)(),[o,d]=(0,i.useState)(null),[m,h]=(0,i.useState)(1),[x,u]=(0,i.useState)(!0);(0,i.useEffect)(()=>{(async()=>{try{const t=await j.A.get("/products/".concat(e));t.data.success?(d(t.data.data),(0,w.$s)("Product","View Item",t.data.data.name)):d(null)}catch(t){console.error("Error fetching product:",t),d(null)}finally{u(!1)}})()},[e]);return x?(0,p.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,p.jsx)(c.uL,{})}):o?(0,p.jsxs)(n.P.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-8",children:[(0,p.jsx)(b.A,{title:o.name,description:o.description,image:o.imageUrl||o.image,url:"https://estore.example.com/product/".concat(o._id),type:"product"}),(0,p.jsx)("button",{onClick:()=>t("/"),className:"text-primary hover:text-primary-dark mb-4 font-medium",children:"\u2190 Back to Products"}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 lg:gap-12",children:[(0,p.jsx)(n.P.div,{whileHover:{scale:1.02},className:"bg-white rounded-lg shadow-lg overflow-hidden",children:(0,p.jsx)(f.A,{src:o.imageUrl||o.image,alt:o.name,className:"w-full h-auto aspect-square",width:600,height:600})}),(0,p.jsxs)("div",{className:"space-y-6",children:[(0,p.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 leading-tight",children:o.name}),(0,p.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,p.jsxs)("span",{className:"text-2xl md:text-3xl font-bold text-primary",children:["$",o.price]}),(0,p.jsxs)("span",{className:"text-sm text-gray-500",children:["SKU: ",o._id]})]}),(0,p.jsx)("p",{className:"text-gray-600 text-lg leading-relaxed",children:o.description}),(0,p.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[(0,p.jsx)("h3",{className:"font-bold text-gray-900",children:"Product Details"}),(0,p.jsxs)("p",{className:"text-gray-600",children:["Category: ",o.category]}),(0,p.jsxs)("p",{className:"text-gray-600",children:["Stock: ",o.stock," available"]})]}),(0,p.jsxs)("div",{className:"space-y-4 pt-4",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,p.jsx)("label",{className:"font-bold text-gray-700",children:"Quantity:"}),(0,p.jsxs)("div",{className:"flex items-center space-x-2 border rounded-lg",children:[(0,p.jsx)("button",{onClick:()=>h(Math.max(1,m-1)),className:"px-4 py-2 min-h-[44px] text-gray-600 hover:bg-gray-100 touch-manipulation",children:"\u2212"}),(0,p.jsx)("span",{className:"px-4 py-2 font-bold min-w-[3ch] text-center",children:m}),(0,p.jsx)("button",{onClick:()=>h(m+1),className:"px-4 py-2 min-h-[44px] text-gray-600 hover:bg-gray-100 touch-manipulation",children:"+"})]})]}),(0,p.jsx)(n.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{o&&((0,w.rm)((0,a.A)((0,a.A)({},o),{},{quantity:m})),(0,w.$s)("Product","Add to Cart",o.name),s(o,m),t("/cart"))},className:"w-full bg-primary text-white font-bold py-3 md:py-4 rounded-lg hover:opacity-90 transition-opacity min-h-[48px] shadow-md",children:"Add to Cart"}),(0,p.jsx)(n.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full border-2 border-primary text-primary font-bold py-3 md:py-4 rounded-lg hover:bg-blue-50 transition-colors min-h-[48px]",children:"Buy Now"})]})]})]}),(0,p.jsx)(y,{productId:e})]}):(0,p.jsxs)(n.P.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center min-h-screen",children:[(0,p.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Product Not Found"}),(0,p.jsx)("button",{onClick:()=>t("/"),className:"bg-primary text-white px-6 py-2 rounded-lg hover:bg-opacity-90",children:"Back to Home"})]})}}}]);
//# sourceMappingURL=535.7aa90464.chunk.js.map